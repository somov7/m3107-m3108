23 69 6e 63 6c 75 64 65
20 3c 73 74 64 69 6f 2e 68 3e 0a 23 69 6e 63 6c
75 64 65 20 3c 73 74 72 69 6e 67 2e 68 3e 0a 23
69 6e 63 6c 75 64 65 20 22 61 72 63 68 69 76 65
72 2e 68 22 0a 0a 69 6e 74 20 6d 61 69 6e 28 29
20 7b 0a 20 20 20 20 63 68 61 72 20 2a 61 72 67
76 5b 5d 20 3d 20 7b 22 2e 2e 2f 70 72 6f 67 2e
61 72 63 22 2c 20 22 2e 2e 2f 6d 61 69 6e 2e 63
22 2c 20 22 2e 2e 2f 6c 69 73 74 2e 63 22 2c 20  |", "../list.c", |
22 2e 2e 2f 61 72 63 68 69 76 65 72 2e 63 22 2c  |"../archiver.c",|
20 22 2e 2e 2f 6c 69 73 74 2e 68 22 7d 3b 0a 20  | "../list.h"};. |
20 20 20 69 6e 74 20 61 72 67 63 20 3d 20 73 69  |   int argc = si|
7a 65 6f 66 28 61 72 67 76 29 20 2f 20 73 69 7a  |zeof(argv) / siz|
65 6f 66 28 61 72 67 76 5b 30 5d 29 3b 0a 20 20  |eof(argv[0]);.  |
20 20 41 72 63 68 69 76 65 20 61 72 63 68 69 76  |  Archive archiv|
65 20 3d 20 63 72 65 61 74 65 28 61 72 67 76 5b  |e = create(argv[|
30 5d 29 3b 0a 20 20 20 20 66 6f 72 20 28 69 6e  |0]);.    for (in|
74 20 69 20 3d 20 31 3b 20 69 20 3c 20 61 72 67  |t i = 1; i < arg|
63 3b 20 69 2b 2b 29 20 7b 0a 20 20 20 20 20 20  |c; i++) {.      |
20 20 61 64 64 28 26 61 72 63 68 69 76 65 2c 20  |  add(&archive, |
61 72 67 76 5b 69 5d 29 3b 0a 20 20 20 20 7d 0a  |argv[i]);.    }.|
20 20 20 20 63 6c 6f 73 65 28 26 61 72 63 68 69  |    close(&archi|
76 65 29 3b 0a 7d